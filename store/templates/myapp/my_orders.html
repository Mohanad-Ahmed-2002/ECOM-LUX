{% extends "base.html" %}
{% block title %}My Orders{% endblock %}

{% block content %}
<div class="container mx-auto px-6 py-10">
    <h2 class="text-2xl font-bold text-blue-700 mb-6">طلباتي</h2>

    {% for order in orders %}
    <div class="border p-4 rounded-lg shadow mb-6 bg-white">
        <div class="flex justify-between items-center mb-2">
            <div>
                <p class="font-semibold text-lg">طلب رقم: {{ order.id }}</p>
                <p class="text-sm text-gray-500">تاريخ الطلب: {{ order.order_date }}</p>
                <p class="text-sm text-gray-500">الحالة:
                    <span class="font-bold text-blue-600">{{ order.get_status_display }}</span>
                </p>
            </div>
            <div class="text-right">
                <p>المحافظة: {{ order.government.name }}</p>
                <p>المجموع: {{ order.total_price }} جنيه</p>
            </div>
        </div>

        <hr class="my-4">

        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
            {% for item in order.order_items.all %}
            <div class="border rounded p-2 flex items-center space-x-4">
                <img src="{{ item.product.image.url }}" class="w-16 h-16 object-cover rounded"
                    alt="{{ item.product.name }}">
                <div>
                    <p class="font-semibold">{{ item.product.name }}</p>
                    <p class="text-sm text-gray-600">الكمية: {{ item.quantity }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    {% empty %}
    <p class="text-gray-600">لا يوجد طلبات حتى الآن.</p>
    {% endfor %}
</div>
{% endblock %}